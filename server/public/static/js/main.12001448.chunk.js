(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},120:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),o=a.n(l),c=a(43),s=a(8),i=a(9),u=a(11),m=a(10),h=(a(98),a(37)),d=(a(58),a(103),a(45)),p=a.n(d),f=function e(){var t=this;Object(s.a)(this,e),this.login=function(e){return t.service.post("/login",e)},this.signup=function(e){return t.service.post("/signup",e)},this.logout=function(){return t.service.post("/logout")},this.isLoggedIn=function(){return t.service.get("/loggedin")},this.service=p.a.create({baseURL:"".concat("https://yei-cook-app.herokuapp.com/api"),withCredentials:!0})},g=a(14),E=(a(120),a(53)),v=a(31),b=a(12),C=a(39),I=a(20),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logout=function(){n.AuthService.logout().then((function(){n.props.setTheUser(!1),n.props.handleToast(!0,"Usuario desconectado")})).catch((function(e){return console.log(e)}))},n.AuthService=new f,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{expand:"lg"},r.a.createElement(E.a.Brand,{className:"navbar"},r.a.createElement(I.b,{to:"/"},r.a.createElement(C.a,{className:"logo",src:"/images/yeiCookCirulo.png",alt:"YeiCook"}))),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(v.a,{className:"ml-auto"},r.a.createElement(v.a.Link,{as:"span"},r.a.createElement(I.c,{to:"/chefs",activeStyle:{color:"white"}},r.a.createElement(b.a,{className:"button-nav",variant:"outline-info"},"Chefs"))),this.props.loggedInUser?r.a.createElement(v.a.Link,{as:"span"},r.a.createElement("span",{onClick:this.logout},r.a.createElement(b.a,{className:"button-nav",variant:"outline-info"},"Cerrar sesi\xf3n"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a.Link,{as:"span"},r.a.createElement(I.c,{to:"/signup",activeStyle:{color:"white"}},r.a.createElement(b.a,{className:"button-nav",variant:"outline-info"},"Convertirse en chef"))),r.a.createElement(v.a.Link,{as:"span"},r.a.createElement(I.c,{to:"/signup",activeStyle:{color:"white"}},r.a.createElement(b.a,{className:"button-nav",variant:"outline-info"},"Encontrar un chef"))),r.a.createElement(v.a.Link,{as:"span"},r.a.createElement(I.c,{to:"/login",activeStyle:{color:"white"}},r.a.createElement(b.a,{className:"button-nav",variant:"outline-info"},"Inicio sesi\xf3n")))),r.a.createElement(v.a.Link,{as:"span"},r.a.createElement(I.c,{to:"/profile",activeStyle:{color:"white"}},this.props.loggedInUser?this.props.loggedInUser.username:"invitado")))))}}]),a}(n.Component),S=a(72),U=function(e){var t=e.visible,a=e.text,n=e.handleToast;return r.a.createElement(S.a,{style:{position:"fixed",right:"10px",bottom:"10px",width:"300px"},show:t,onClose:function(){return n(!1)},delay:3e3,autohide:!0},r.a.createElement(S.a.Header,null," ",r.a.createElement("strong",{className:"mr-auto"},"YeiCook")," "),r.a.createElement(S.a.Body,null,a))},j=(a(124),a(78)),O=a(13),k=a(91),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"BackHome"},r.a.createElement(j.a.Image,{alt:"fondo",src:"/images/AdobeStock_314133185.jpeg"}),r.a.createElement("div",{class:"centrado"},r.a.createElement("h1",null,"Nunca fue tan facil ser buen anfitri\xf3n"))),r.a.createElement("footer",{className:"footer"},r.a.createElement(k.a,{className:"text-center"},r.a.createElement(O.a,null,r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"\xa1Estamos encantados de tenerte aqu\xed!"))),r.a.createElement(O.a,null,r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Text,null,"Direcci\xf3n: A domiciliooooo!!! "),r.a.createElement(O.a.Title,null,"\xa1SORPRISE!")))),r.a.createElement(O.a.Footer,{className:"text-center text-muted"},"\xa9 2020 Copyright: Paola Martin")))}}]),a}(n.Component),w=function e(){var t=this;Object(s.a)(this,e),this.getAllChefs=function(){return t.service.get("/getAllChefs")},this.getOneChef=function(e){return t.service.get("/getOneChef/".concat(e))},this.editChef=function(e,a){return t.service.put("/getOneChef/".concat(e),a)},this.createChef=function(e){return t.service.post("/newChef",e)},this.deleteChef=function(e){return t.service.delete("/chef/".concat(e))},this.like=function(e){return t.service.post("/getOneChef/".concat(e,"/like"))},this.createComments=function(e,a){return t.service.post("/comment/".concat(e),a)},this.deleteComment=function(e){return t.service.post("/deleteComment/".concat(e))},this.service=p.a.create({baseURL:"".concat("https://yei-cook-app.herokuapp.com/api","/chefs"),withCredentials:!0})},T=a(71),F=function e(){var t=this;Object(s.a)(this,e),this.getOneProfile=function(e){return t.service.get("/getOneProfile/".concat(e))},this.editProfile=function(e,a){return t.service.patch("/getOneProfile/".concat(e),a)},this.service=p.a.create({baseURL:"".concat("https://yei-cook-app.herokuapp.com/api","/user"),withCredentials:!0})},L=a(19),N=function(e){var t=e._id,a=e.name,n=e.avatar,l=e.type,o=e.specialty,c=e.location,s=e.img,i=e.deleteChef,u=e.handleModal,m=e.loggedInUser,h=e.displayFavorites;return r.a.createElement(L.a,{md:4},r.a.createElement(O.a,{className:"chefcard"},r.a.createElement(O.a.Img,{variant:"top",src:n}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,a),r.a.createElement(O.a.Text,null,l),r.a.createElement(O.a.Text,null,o),r.a.createElement(O.a.Text,null,c),r.a.createElement(O.a.Img,{variant:"top",src:s}),r.a.createElement("div",null,m?h(t):null),r.a.createElement(I.b,{to:"/chefs/".concat(t),className:"btn btn-info btn-block btn-sm"},"Ver detalles"),r.a.createElement("hr",null),m&&"ADMIN"===m.role?r.a.createElement(b.a,{onClick:function(){return i(t)},variant:"info",size:"sm",style:{marginBottom:"20px",margin:"5px",marginLeft:"25px"}},"Eliminar"):null,m&&"ADMIN"===m.role?r.a.createElement(b.a,{onClick:function(){return u(!0,t)},variant:"info",size:"sm",style:{marginBottom:"20px",margin:"5px"}},"Editar"):null)))},D=a(23),M=a(5),A=a(50),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t="file"===e.target.type?e.target.files[0]:e.target.value;n.setState(Object(D.a)({},e.target.name,t))},n.handleFormSubmit=function(e){e.preventDefault();var t=new FormData;Object.keys(n.state).forEach((function(e){t.append(e,n.state[e])})),n.state.id?n.chefService.editChef(n.state.id,t).then((function(){return n.props.finishFormSubmit()})).catch((function(e){return console.log(e)})):n.chefService.createChef(t).then((function(){return n.props.finishFormSubmit()})).catch((function(e){return console.log(e)}))};var r=n.props.editingChef;return n.state={id:r?r._id:"",avatar:r?r.avatar:"",name:r?r.name:"",type:r?r.type:"",specialty:r?r.specialty:"",location:r?r.location:"",contact:r?r.contact:"",certificate:"true",title:"true",img:r?r.img:""},n.chefService=new w,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,this.state.id?"Editar chef":"Nuevo chef"),r.a.createElement("hr",null),r.a.createElement("div",{id:"chef-form"},r.a.createElement(M.a,{onSubmit:this.handleFormSubmit},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Nombre"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.name,name:"name",type:"text"})),r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Tipo de servicio"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.type,name:"type",type:"text",as:"select",custom:!0},r.a.createElement("option",null,"Cocktail/catering"),r.a.createElement("option",null,"Desayunos"),r.a.createElement("option",null,"Comidas"),r.a.createElement("option",null,"Cenas"))),r.a.createElement(M.a.Group,{controlId:"exampleForm.SelectCustom"},r.a.createElement(M.a.Label,null,"Especilidad"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.specialty,name:"specialty",type:"text",as:"select",custom:!0},r.a.createElement("option",null,"Vegana"),r.a.createElement("option",null,"Vegetariana"),r.a.createElement("option",null,"Sin gluten"),r.a.createElement("option",null,"Saludable"),r.a.createElement("option",null,"Apto para diab\xe9ticos"),r.a.createElement("option",null,"Mediterranea"))),r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Localizaci\xf3n"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.location,name:"location",type:"text"})),r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Contacto"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.contact,name:"contact",type:"number"})),r.a.createElement(M.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(M.a.Check,{onChange:this.handleInputChange,value:this.state.certificate,type:"checkbox",label:"Certificado manipulador de alimentos"})),r.a.createElement(M.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(M.a.Check,{onChange:this.handleInputChange,value:this.state.title,type:"checkbox",label:"Titulo Profesional"})),r.a.createElement(A.a,{defaultActiveKey:"0"},r.a.createElement(A.a.Toggle,{as:O.a.Header,eventKey:"0"},"Agregar Avatar"),r.a.createElement(A.a.Collapse,{eventKey:"0"},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Avatar (archivo)"),r.a.createElement(M.a.Control,{name:"avatar",type:"file",onChange:this.handleInputChange}))),r.a.createElement(A.a.Toggle,{as:O.a.Header,eventKey:"1"},"Agregar platos"),r.a.createElement(A.a.Collapse,{eventKey:"1"},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Imagen plato (archivo)"),r.a.createElement(M.a.Control,{name:"img",type:"file",onChange:this.handleInputChange})))),r.a.createElement("div",{id:"button-form"},r.a.createElement(b.a,{variant:"info",type:"submit"},"Guardar")))))}}]),a}(n.Component),B=(a(125),a(24)),P=a(18),_=a(49),R=a(38),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.updateChefList()},n.updateChefList=function(){n.chefService.getAllChefs().then((function(e){return n.setState({chefs:e.data})})).catch((function(e){return console.log(e)}))},n.deleteChef=function(e){n.chefService.deleteChef(e).then((function(t){var a=n.state.chefs.filter((function(t){return t._id!==e}));n.setState({chefs:a})})).catch((function(e){return console.log(e)}))},n.handleModal=function(e,t){return n.setState({showModal:e,chef:t})},n.finishFormSubmit=function(){n.handleModal(!1),n.updateChefList()},n.addFavorites=function(e){var t=Object(T.a)(n.props.loggedInUser.favorites);t.push(e);var a=Object(T.a)(t),r=Object(c.a)(Object(c.a)({},n.props.loggedInUser),{},{favorites:a});n.userService.editProfile(n.props.loggedInUser._id,r).then((function(e){n.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))},n.deleteFavorites=function(e){var t=Object(T.a)(n.props.loggedInUser.favorites).filter((function(t){return t!==e})),a=Object(c.a)(Object(c.a)({},n.props.loggedInUser),{},{favorites:t});n.userService.editProfile(n.props.loggedInUser._id,a).then((function(e){n.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))},n.displayFavorites=function(e){var t=n.props.loggedInUser;return r.a.createElement(r.a.Fragment,null,t&&t.favorites.length&&t.favorites.includes(e)?r.a.createElement("div",{style:{marginRight:"10px"},onClick:function(){return n.deleteFavorites(e)}},r.a.createElement(h.a,{icon:R.a,size:"1x",color:"#E74C3C",className:"Button1"})):r.a.createElement("div",{style:{marginRight:"10px"},onClick:function(){return n.addFavorites(e)}},r.a.createElement(h.a,{icon:R.a,size:"1x",color:"#F5B7B1",className:"Button1"})))},n.state={chefs:[],Chef:null,showModal:!1,isCreating:!0,favorites:n.props.loggedInUser?n.props.loggedInUser.favorites:[]},n.chefService=new w,n.userService=new F,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.chef?this.state.chefs.filter((function(t){return t._id===e.state.chef}))[0]:{};return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{as:"main",className:"chef-page"},this.props.loggedInUser&&"ADMIN"===this.props.loggedInUser.role?r.a.createElement(b.a,{onClick:function(){return e.handleModal(!0)},variant:"info",size:"sm",style:{marginBottom:"20px"}},"Crear nuevo chef"):null,r.a.createElement(P.a,null,this.state.chefs.map((function(t){return r.a.createElement(N,Object.assign({key:t._id},t,{displayFavorites:e.displayFavorites,loggedInUser:e.props.loggedInUser,handleModal:e.handleModal,deleteChef:e.deleteChef,LikeId:t.id}))})))),r.a.createElement(_.a,{size:"lg",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},r.a.createElement(_.a.Body,null,this.state.isCreating?r.a.createElement(G,{onHide:this.onHide,editingChef:t,finishFormSubmit:this.finishFormSubmit}):r.a.createElement(G,{onHide:this.onHide,finishFormSubmit:this.finishFormSubmit,isCreating:!0}))))}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={chefs:[]},n.chefService=new w,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{as:"main",className:"chef-page"},r.a.createElement(P.a,null,r.a.createElement("h1",null,"Listado de chefs"),r.a.createElement(z,{setTheUser:this.props.setTheUser,loggedInUser:this.props.loggedInUser}))))}}]),a}(n.Component),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(D.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.chefService.createComments(n.props.id,n.state).then((function(e){return console.log("RESPONSE",e)})).then((function(){return n.props.handleDetailsSubmit()})).catch((function(e){return console.log(e)}))},n.state={comments:[]},n.chefService=new w,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{onSubmit:this.handleFormSubmit},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Usuario"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,type:"text"}),r.a.createElement(M.a.Label,null,"Comentario"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.comments,name:"comments",type:"text"})),r.a.createElement(b.a,{variant:"info",type:"submit"},"Guardar")))}}]),a}(n.Component),V=(a(126),a(54)),J=a(77),Y=a(92),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){return e.updateDetails()},e.updateDetails=function(){var t=e.props.match.params.id;e.chefService.getOneChef(t).then((function(t){return e.setState({chefDetails:t.data})})).then((function(t){return e.setState({chefComments:t.data.comments})})).catch((function(e){return console.log(e)}))},e.handleDetailsSubmit=function(){e.updateDetails()},e.deleteComment=function(){e.chefService.deleteComment(e.props.match.params.id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),e.updateDetails()},e.addLike=function(){var t=e.state.likes+1;e.setState({likes:t})},e.state={chefDetails:[],chefComments:[],likes:0,chefs:[]},e.chefService=new w,e}return Object(i.a)(a,[{key:"render",value:function(){return this.state.chefDetails?r.a.createElement(B.a,{as:"main"},r.a.createElement("link",{href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css",rel:"stylesheet"}),r.a.createElement("h1",null,this.state.chefDetails.name),r.a.createElement("hr",null),r.a.createElement(P.a,null,r.a.createElement(L.a,{md:{span:5,offset:1}},r.a.createElement("div",{class:"chef-profile"},r.a.createElement("div",{id:"avatar"},r.a.createElement(P.a,null,r.a.createElement("img",{src:this.state.chefDetails.avatar,alt:"Avatar"}))),r.a.createElement("div",{id:"cover-chef"}),r.a.createElement("div",{id:"info"},r.a.createElement("ul",null,r.a.createElement("li",{id:"username"},r.a.createElement("b",null,"Tipo de servicio:")," ",this.state.chefDetails.type),r.a.createElement("li",null,r.a.createElement("b",null,"Tipo de servicio:")," ",this.state.chefDetails.type),r.a.createElement("li",null,r.a.createElement("b",null,"Especialidad:")," ",this.state.chefDetails.specialty),r.a.createElement("li",null,r.a.createElement("i",{class:"fa fa-map-marker"}),r.a.createElement("b",null,"Localizaci\xf3n:")," ",this.state.chefDetails.location),r.a.createElement("li",null,r.a.createElement("i",{class:"fa fa-phone"})," ",r.a.createElement("b",null,"Contacto:")," ",this.state.chefDetails.contact)),r.a.createElement("div",{onClick:this.addLike,id:this.props.likeId,style:{alignSelf:"center"}},r.a.createElement(h.a,{icon:R.b,size:"lg",color:"black",className:"likes-count"}),this.state.likes),r.a.createElement("div",null,r.a.createElement("h3",null,"Galeria de Platos"),r.a.createElement(V.a,null,r.a.createElement(V.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?cs=srgb&dl=pexels-ella-olsson-1640777.jpg&fm=jpg",alt:"Ensalada"})),r.a.createElement(V.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://images.pexels.com/photos/302552/pexels-photo-302552.jpeg?cs=srgb&dl=pexels-jill-wellington-302552.jpg&fm=jpg",alt:"Postre"})),r.a.createElement(V.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://images.pexels.com/photos/3820995/pexels-photo-3820995.jpeg?cs=srgb&dl=pexels-agung-pandit-wiguna-3820995.jpg&fm=jpg",alt:"Principal"}))))),r.a.createElement("div",{id:"boton"},r.a.createElement(I.b,{className:"btn btn-light btn-md",to:"/chefs"},"Volver"))),r.a.createElement(P.a,null,r.a.createElement(Y.a,{defaultActiveKey:"profile",id:"uncontrolled-tab-example"},r.a.createElement(J.a,{eventKey:"home",title:"Agregar Comentario"},r.a.createElement("div",{id:"add-comment"},r.a.createElement(K,{id:this.props.match.params.id,handleDetailsSubmit:this.handleDetailsSubmit}))),r.a.createElement(J.a,{eventKey:"profile",title:"Comentarios"})))))):r.a.createElement("h3",null,"Spinner")}}]),a}(n.Component),Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(D.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.signup(n.state).then((function(e){n.props.setTheUser(e.data),n.props.handleToast(!0,"Registro completado"),n.props.history.push("/chefs")})).catch((function(e){return console.log(e.response.data.message)}))},n.state={username:"",password:""},n.authService=new f,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(B.a,{as:"main"},r.a.createElement(P.a,null,r.a.createElement(L.a,{md:{offset:3,span:6}},r.a.createElement("h3",null,"Registro de usuario"),r.a.createElement("hr",null),r.a.createElement(M.a,{onSubmit:this.handleFormSubmit},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Nombre de usuario"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Contrase\xf1a"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),r.a.createElement(M.a.Text,{className:"text-muted"},"M\xednimo tres caracteres")),r.a.createElement(b.a,{variant:"info",type:"submit"},"Registrarme")))))}}]),a}(n.Component),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(D.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.login(n.state).then((function(e){n.props.setTheUser(e.data),console.log(e.data),n.props.handleToast(!0,"Sesi\xf3n iniciada"),n.props.history.push("/chefs")})).catch((function(e){return console.log(e)}))},n.state={username:"",password:""},n.authService=new f,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(B.a,{as:"main"},r.a.createElement(P.a,null,r.a.createElement(L.a,{md:{offset:3,span:6}},r.a.createElement("h3",null,"Inicio de sesi\xf3n"),r.a.createElement("hr",null),r.a.createElement(M.a,{onSubmit:this.handleFormSubmit},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Nombre de usuario"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Contrase\xf1a"),r.a.createElement(M.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),r.a.createElement(M.a.Text,{className:"text-muted"},"M\xednimo tres caracteres")),r.a.createElement(b.a,{variant:"info",type:"submit"},"Iniciar sesi\xf3n")))))}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t="file"===e.target.type?e.target.files[0]:e.target.value;n.setState(Object(D.a)({},e.target.name,t))},n.handleFormSubmit=function(e){e.preventDefault();var t=new FormData;Object.keys(n.state).forEach((function(e){t.append(e,n.state[e])})),n.userService.editProfile(n.props.loggedInUser._id,t).then((function(e){return n.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))},n.state={id:n.props.loggedInUser._id,name:n.props.loggedInUser.name,username:n.props.loggedInUser.username,email:n.props.loggedInUser.email,avatar:n.props.loggedInUser.avatar,location:n.props.loggedInUser.location,contact:n.props.loggedInUser.contact},n.userService=new F,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"profile-form"},r.a.createElement(M.a,{onSubmit:this.handleFormSubmit},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Group,{as:L.a,controlId:"title"},r.a.createElement(M.a.Label,null,"Nombre"),r.a.createElement(M.a.Control,{name:"name",type:"text",placeholder:"Nombre completo",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement(M.a.Group,{as:L.a,controlId:"title"},r.a.createElement(M.a.Label,null,"Usuario"),r.a.createElement(M.a.Control,{name:"username",type:"text",placeholder:"Nombre de usuario",value:this.state.username,onChange:this.handleInputChange})),r.a.createElement(M.a.Group,{as:L.a,controlId:"formGridEmail"},r.a.createElement(M.a.Label,null,"Email"),r.a.createElement(M.a.Control,{name:"email",type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleInputChange}))),r.a.createElement(M.a.Group,{controlId:"formGridAddress1"},r.a.createElement(M.a.Label,null,"Direcci\xf3n"),r.a.createElement(M.a.Control,{name:"location",type:"text",placeholder:"Location",value:this.state.location,onChange:this.handleInputChange})),r.a.createElement(M.a.Group,{controlId:"formGridAddress1"},r.a.createElement(M.a.Label,null,"Contacto"),r.a.createElement(M.a.Control,{name:"contact",type:"number",placeholder:"Contact",value:this.state.contact,onChange:this.handleInputChange})),r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,null,"Avatar"),r.a.createElement(M.a.Control,{name:"avatar",type:"file",onChange:this.handleInputChange})),r.a.createElement("div",{id:"button-form"},r.a.createElement(b.a,{variant:"info",type:"submit"}," ","Editar")))))}}]),a}(n.Component),Z=(a(128),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getChefList()},n.componentDidUpdate=function(e){!e.loggedInUser&&n.props.loggedInUser&&n.setState({favorites:n.props.loggedInUser.favorites})},n.getChefList=function(){n.chefService.getAllChefs().then((function(e){n.setState({chefs:e.data}),n.getFavorites()})).catch((function(e){return console.log(e)}))},n.getFavorites=function(){var e=n.state.chefs.filter((function(e){return n.state.favorites.includes(e._id)}));n.setState({chefsFavorites:e})},n.handleModal=function(e,t){return n.setState({showModal:e,user:t})},n.handleProfileSubmit=function(){n.handleModal(!1),n.getOneProfile()},n.state={id:n.props.loggedInUser._id||"",name:n.props.loggedInUser.name||"",username:n.props.loggedInUser.username||"",email:n.props.loggedInUser.email||"",avatar:n.props.loggedInUser.avatar||"",location:n.props.loggedInUser.location||"",contact:n.props.loggedInUser.contact||"",favorites:n.props.loggedInUser?n.props.loggedInUser.favorites:[],chefs:[],chefsFavorites:[],showModal:!1},n.chefService=new w,n.userService=new F,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{as:"main"},r.a.createElement("h1",null,"Bienvenid@ ",this.props.loggedInUser.username),r.a.createElement(P.a,null,r.a.createElement("link",{href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css",rel:"stylesheet"}),r.a.createElement("div",{id:"social"},r.a.createElement("ul",null,r.a.createElement("li",{id:"twitter"},r.a.createElement("i",{class:"fa fa-twitter"})),r.a.createElement("li",{id:"facebook"},r.a.createElement("i",{class:"fa fa-facebook"})),r.a.createElement("li",{id:"instagram"},r.a.createElement("i",{class:"fa fa-instagram"})))),r.a.createElement("div",{class:"profile"},r.a.createElement("div",{id:"avatar"},r.a.createElement(P.a,null,r.a.createElement(C.a,{className:"avatarDefault",src:this.props.loggedInUser.avatar}))),r.a.createElement("div",{id:"cover"}),r.a.createElement("div",{id:"info"},r.a.createElement("ul",null,r.a.createElement("li",{id:"username"},r.a.createElement("span",null,this.props.loggedInUser.username)),r.a.createElement("li",null,r.a.createElement("i",{class:"far fa-user"})," Nombre:"," ",this.props.loggedInUser.name),r.a.createElement("li",null,r.a.createElement("i",{class:"fa fa-map-marker"})," Direcci\xf3n:"," ",this.props.loggedInUser.location),r.a.createElement("li",null,r.a.createElement("i",{class:"fa fa-globe"})," Email:"," ",this.props.loggedInUser.email),r.a.createElement("li",null,r.a.createElement("i",{class:"fa fa-phone"})," Contacto:"," ",this.props.loggedInUser.contact))),r.a.createElement("div",{class:"clear"}),r.a.createElement("div",{id:"logo"},this.props.loggedInUser&&r.a.createElement(b.a,{onClick:function(){return e.handleModal(!0)},variant:"light",size:"sm",style:{marginBottom:"20px"}},"Editar perfil")))),r.a.createElement("h3",null,"Mis chefs favoritos"),r.a.createElement(P.a,{className:"cards"},r.a.createElement(P.a,null,this.state.chefsFavorites.map((function(t){return r.a.createElement(N,Object.assign({className:"card",key:t._id},t,{displayFavorites:e.displayFavorites,loggedInUser:e.state.loggedInUser}))}))))),r.a.createElement(_.a,{size:"lg",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},r.a.createElement(_.a.Body,null,this.state.showModal?r.a.createElement(X,Object.assign({},this.state,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser,handleProfileSubmit:this.handleProfileSubmit})):null)))}}]),a}(n.Component)),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).setTheUser=function(t){return e.setState({loggedInUser:t},(function(){return console.log("El estado de App ha cambiado:",e.state)}))},e.fetchUser=function(){e.AuthService.isLoggedIn().then((function(t){return null===e.state.loggedInUser&&e.setState({loggedInUser:t.data})})).catch((function(e){return console.log({err:e})}))},e.handleToast=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(c.a)({},e.state.toast);n={visible:t,text:a},e.setState({toast:n})},e.state={loggedInUser:null,toast:{visible:!1,text:""}},e.AuthService=new f,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser,handleToast:this.handleToast}),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(x,e)}}),r.a.createElement(g.b,{path:"/profile",render:function(){return e.state.loggedInUser?r.a.createElement(Z,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser}):r.a.createElement(g.a,{to:"/signup"})}}),r.a.createElement(g.b,{path:"/signup",render:function(t){return r.a.createElement(Q,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}}),r.a.createElement(g.b,{path:"/login",render:function(t){return r.a.createElement(W,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}}),r.a.createElement(g.b,{exact:!0,path:"/chefs",render:function(){return r.a.createElement(H,{setTheUser:e.setTheUser,loggedInUser:e.state.loggedInUser})}}),r.a.createElement(g.b,{path:"/chefs/:id",render:function(e){return r.a.createElement(q,e)}})),r.a.createElement(U,Object.assign({},this.state.toast,{handleToast:this.handleToast})))}}]),a}(n.Component);o.a.render(r.a.createElement(I.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null))),document.getElementById("root"))},93:function(e,t,a){e.exports=a(129)}},[[93,1,2]]]);
//# sourceMappingURL=main.12001448.chunk.js.map